:root{
  --bg:#0b1020;
  --panel:#121a2e;
  --muted:#7b89a6;
  --text:#e7efff;
  --accent:#3b82f6;
  --accent-2:#22c55e;
  --border:#1f2a4a;
  --danger:#ef4444;
  --shadow:0 8px 20px rgba(0,0,0,.35);
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  background:linear-gradient(180deg, #0b1020 0%, #0d1530 100%);
  color:var(--text);
  font-family: ui-sans-serif, system-ui, Segoe UI, Roboto, Arial, sans-serif;
}

/* App bar */
.appbar{
  position:sticky; top:0; z-index:5;
  display:flex; align-items:center; justify-content:space-between;
  padding:10px 16px;
  background:rgba(13,21,48,.8);
  backdrop-filter: blur(8px);
  border-bottom:1px solid var(--border);
}
.brand{display:flex; align-items:center; gap:10px}
.logo{
  width:34px; height:34px; display:grid; place-items:center;
  background:#162142; color:#88a6ff; border-radius:10px; box-shadow:var(--shadow);
}
.appbar h1{font-size:18px; margin:0}
.subtitle{font-size:12px; color:var(--muted)}

/* Layout */
.layout{
  display:grid; grid-template-columns: 300px 1fr; gap:16px;
  padding:16px; min-height:calc(100vh - 120px);
}
.sidebar{
  display:flex; flex-direction:column; gap:16px;
}
.panel{
  background:var(--panel); border:1px solid var(--border);
  border-radius:14px; padding:14px; box-shadow:var(--shadow);
}
.panel-title{font-weight:600; margin-bottom:10px; color:#b9c8ff}

/* Buttons */
.btn{
  width:100%; padding:10px 12px; border-radius:10px;
  border:1px solid var(--border); background:#172243; color:var(--text);
  cursor:pointer; transition:.15s transform, .15s background;
}
.btn:hover{ transform: translateY(-1px); background:#1a2750 }
.btn:active{ transform: translateY(0) }
.btn.primary{ background: linear-gradient(180deg, #4479ff, #3b6be0); border-color:#375fce }
.btn.primary:hover{ background: linear-gradient(180deg, #5085ff, #4172ea) }

.segmented{
  display:grid; grid-template-columns:1fr; gap:8px;
}
.seg{
  width:100%; padding:10px 12px; border-radius:10px;
  border:1px solid var(--border); background:#121b39; color:var(--text);
  cursor:pointer; transition:.15s box-shadow,.15s transform;
}
.seg:hover{ transform: translateY(-1px); box-shadow: 0 8px 24px rgba(59,130,246,.25) }
.seg.active{ outline:2px solid var(--accent); background:#142153 }

/* Toolbar */
.toolbar{display:flex; align-items:center; gap:12px}
.filelabel{color:var(--muted); font-size:12px}

/* Content */
.content{
  display:flex; flex-direction:column; gap:16px;
}
.output-wrap{
  position:relative; flex:1; min-height:480px;
  background:#091128; border:1px solid var(--border);
  border-radius:14px; box-shadow:var(--shadow); overflow:hidden;
}
.output{
  margin:0; padding:16px; height:100%; width:100%;
  color:#cfe0ff; font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, monospace;
  white-space: pre-wrap; overflow:auto; line-height:1.35;
}

/* Spinner (futás közben) */
.spinner{
  position:absolute; inset:auto 16px 16px auto;
  width:22px; height:22px; border-radius:50%;
  border:3px solid rgba(255,255,255,.15);
  border-top-color:#7aa2ff; animation:spin 1s linear infinite;
  display:none;
}
body.busy .spinner{ display:block }
@keyframes spin{ to{ transform: rotate(360deg) } }

/* Footer */
.footer{
  border-top:1px solid var(--border);
  display:flex; justify-content:space-between; align-items:center;
  padding:10px 16px; color:var(--muted); background:rgba(13,21,48,.5);
}

/* Text utils */
.status{ font-size:13px; color:#c9d7ff; background:#0f1a38; padding:8px 10px; border-radius:10px; border:1px solid var(--border) }
.status.ok{ color:#9fe3b3; border-color:#224a34; background:#0f2a21 }
.status.warn{ color:#ffe29d; border-color:#4a3c22; background:#2a210f }
.status.err{ color:#ffb4b4; border-color:#4a2222; background:#2a0f0f }
/* Scrollbar finomhangolás (WebKit) */
.output::-webkit-scrollbar{ width:10px; height:10px }
.output::-webkit-scrollbar-thumb{ background:#1e2b56; border-radius:10px }
.output::-webkit-scrollbar-track{ background:#0d1530 }
/* --- Csak a jobb oldali tartalom görgődjön --- */

/* az egész oldal rács: header / main / footer */
html, body { height: 100%; overflow: hidden; }  /* a külső görgetést tiltjuk */
.shell{
  display: grid;
  grid-template-rows: auto 1fr auto; /* fejléc / főtartalom / lábléc */
  height: 100vh;
}

/* a kétoszlopos főrész ne görgődjön, csak a benne levő content */
.layout{
  min-height: 0;    /* fontos a grid-gyerekeknél */
  height: 100%;
  overflow: hidden; /* a főrész maga nem görgődik */
}

/* BAL OSZLOP – fixen látszik; ha túl hosszú, saját belső görgetést kap */
.sidebar { position: sticky; top: 16px; align-self: start; }

/* JOBB OSZLOP – itt görgessen a felhasználó */
.content{
  min-height: 0;    /* fontos, hogy a gyerek (output-wrap) megkapja a magasságot */
  height: 100%;
  overflow: auto;
}

/* kimeneti doboz tényleg töltse ki a rendelkezésre álló magasságot */
.output-wrap{ height: 100%; }
.output{ height: 100%; }

/* --- Fix bal sáv, csak jobb oldal görgődjön --- */
html, body { height: 100%; overflow: hidden; }  /* a teljes oldal nem görgődik */
.shell{
  display: grid;
  grid-template-rows: auto 1fr auto;  /* fejléc / főrész / lábléc */
  height: 100vh;
}

.layout{
  /* felülírjuk a korábbi min-height-ot */
  min-height: 0;
  height: 100%;
  overflow: hidden;     /* a kétoszlopos rács maga ne görgődjön */
}

/* bal oszlop – végig látszik.
   Ha túl magas lenne, belül KÜLÖN görgethető (nem a teljes oldal). */
.sidebar{
  align-self: start;
  position: sticky;
  top: 16px;
  overflow: auto;       /* opcionális: ha sok panel lesz, csak itt mozog */
}

/* jobb oszlop – itt legyen a görgetés */
.content{
  min-height: 0;
  height: 100%;
  overflow: auto;
}

/* kimeneti doboz töltse ki a rendelkezésre álló magasságot */
.output-wrap{ height: 100%; }
.output{ height: 100%; }

